FROM python:3.6.13-alpine
ARG lxkKEY="-----BEGIN OPENSSH PRIVATE KEY-----\n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\n-----END OPENSSH PRIVATE KEY-----"
ARG kwjKEY="-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAue87XSOSqLP4TckN7ttO7nx0nJ80KAOeq/FgsYBIB8vy+jjq\n2VWyBIa1LFDp9KAR8rhNK1dImw/ccOXMkP6vLVyDnsvnIGFM7iQ+nc5uHNLE1naY\niylIeNYUGj7WT0VFj8hm0Ag176Xi15ABP2xjprZvDMXvUou1nvXbYn+6IdcKRoJ4\nIpUjtrKDlzRPs7yk9lOXXRsv0ljUeiiQdZdx2QVSpuR6ItuQnQT1FfptSqkgXQcG\nVjMVIiHGENQnFc+NSa38azf8kz/zeKiPnNhSn13LNMdvDmb8xbO4BBGdYc2fVKwE\n8DqaZAQMglOSIsP4cEJY8qovOZzmrxhVgC+mjQIDAQABAoIBAA8QoSC0xydAHbg/\nuA9IWabdEp22EIXFdU+9KPZ4zF1FWxSHFBAz706Kk5dZnvshFRMzd50xX0KhEF1d\nYSvGVu839boiD0ICYDdTXHdwyF8xfJ1b0pRD7glMXyiZOsgFdtNli18Dq0sVh8Gr\ne05mO9TAJ1NDnlZz121fwjzC2JPxMwV4i90i3TqNUTS1nxm5Hm139lDgPg3WlbgV\nJzWaw5csIkcLIAGiK87XtLcMTu3CWfnygY8z7s2FsxkYkGetCnHfyEmEpb03trbu\n9uuz9HxirJqOS3nqOLho4u8Cwps3+yqxrYLM2G94o4cQsrbGc7meGEqqDZ2xVArr\nWJj4BUkCgYEA6dF7lkhD9IKMeFSXg/ik1h93yJsKFiEso/4O8A0D1zL4Pxn3KQLe\nwwrAUvgE4PvYMQSTJ397NwOuEvg6GHN3kYZKPgvQQD17mWxNs/iqsMo7Za7va1Ym\nTe7umD0Oq6oPnKVLRt1PWRjN8+gK2bMqYSGfzzcwNQgqkLPy0W8XM88CgYEAy5LX\nkjlB7qEUN7WallhAAjQtGgXrvYJH4kEk8SxpHvFF/eUuizsS0GpGxp/i8JVV0Sas\n+dnUBcZMVF8aOdHPWQ4zt8DXt53qux0l1T7L8p4eM+cXEqeuxB4kIZ1GjewSKw2j\nQ3+qZmajxqiLKm6UXDJ9CMeb53/jc5ITgh+HauMCgYAO3A5TpbIT5vwQZaffbjzj\nksplCF1ivKb+oRXH8bvNwGKAeCD6DUGk+ZjxbOu6dKbvro+/kd19yJEWiYn/pc7y\ng6tSOCP7AS1KudRSXLpUU/XkZ3K1yprSlx24tSCqjjtBxEt9bHEvg2ELYDLYVQeb\ndqyWWbaJmEREP/ttjfbWhwKBgQCvdxooBwI1VNHAUt+zxs0lGSPm0kOnTKv48H2P\nAuB4sy3I8cl0aK6GxZPLj/RjudQGOnfNw1tkvs77yh0oyRcXg45ATA+jTJIORcle\nTIotzOvrgLv6cF3K3M/3yUAPA/OE+HRIsbmGGeIAUTXilP17mmj7MFHI8Ap0iuwV\ntGdcUQKBgFYehJfnoM5jcwx8HERqf/fXKZj5HWBkeyepj8kGOqVQbq1wVekREp7I\n/eLFy+RlT2VPx5zmzbarj9GcJanv0J3JSBCG3JLocCzmcqfr6ov3wQzKVWuVWd9Y\n6iyormf+N45Hv6RTRV068sYbOZP/+JMFpNJ52N4vtXrZ30JcB6X7\n-----END RSA PRIVATE KEY-----"
ARG EKEY="-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABFwAAAAdzc2gtcn\nNhAAAAAwEAAQAAAQEAyey3HbpcJtOaTOMZh1lS6aGzJOr4wVgBG5Ba81t7D1aLbHS+rB/o\nxMDPtk3xPCNcw6mOzgM+NX4TbeZkU7g12ejRiYXWX6rY0giTaqKA3NjqvGGXoagTJxK9D5\nxEPka+4qNbs1eKhq4LpeoWIzoDRpSfgDd/yVvKiF3U9Yycxs3v52QtXuC6Q+/p3hxW/5sW\nBgjsb4Wga45/yH7I2MbfH9RDY9Xips9OKxQ3nZFAwbbMfSfZnLm3ifXUZfvnSALAsqyo02\nS6t3Z7nOGNahQrIiGv3ShMj6kOAmEhRQCtM/JfkLhsA631EJ6E6SfRdU2pv0H1omj2UjNN\nkduijcdjCwAAA8AVGCi2FRgotgAAAAdzc2gtcnNhAAABAQDJ7Lcdulwm05pM4xmHWVLpob\nMk6vjBWAEbkFrzW3sPVotsdL6sH+jEwM+2TfE8I1zDqY7OAz41fhNt5mRTuDXZ6NGJhdZf\nqtjSCJNqooDc2Oq8YZehqBMnEr0PnEQ+Rr7io1uzV4qGrgul6hYjOgNGlJ+AN3/JW8qIXd\nT1jJzGze/nZC1e4LpD7+neHFb/mxYGCOxvhaBrjn/IfsjYxt8f1ENj1eKmz04rFDedkUDB\ntsx9J9mcubeJ9dRl++dIAsCyrKjTZLq3dnuc4Y1qFCsiIa/dKEyPqQ4CYSFFAK0z8l+QuG\nwDrfUQnoTpJ9F1Tam/QfWiaPZSM02R26KNx2MLAAAAAwEAAQAAAQEAyA0mymQU4j6oU153\nr1m2xFL4ai4Fb4Ah8M4O3aWXgPWsQjJTqbIfabbg0uvbgUpDoHH/UmlyG4sh8rLcWPlbGN\n4JoqcfYT6he00VyALhimu5/BLwKC+dcgulla6rCcwLV/yiYEbtrksGrUUC07mo/ydF8sCJ\ncNPpDztvPismM+qVcLdWuWE9m5eMx8t3X8riFJaVgms6LbWhJIEmpDXMbm0nZKRDdVRPnN\nq2LbaTFHxYiz77qZ2GjYkPS62Z9DAv1hRDx076F5LlMtWFBjJbLrMILIEuAuNczgZ/5Fe8\nYOC5OXmPIz422jeglCFRGSEMg2IZY7aGiEpawxBEd2VP8QAAAIBprAYBCQexXPlwdMv/Kx\n69HDQ837OfU+tTEVc56Q21KTEq5KSwv0OZaJNIRdbygZd7nCS4ZAkZgUshescBrVGBt6+l\nGTJMaHVlCvf8r2ptI82E1Tt85XgRoPyIJVPMl/UTxAwv6dfHTACnuXe3wl/xwa09Ad/iO8\n7kODEsLqSzgwAAAIEA+EDHB+6ooO5IJ9e3KtG91n+SYacXN7s3zTsbyNV4mCT5tRj49xPo\neKIjYAnZlGmQP9AVoqRN4YuDGSz/oNFXKbGziHXybZFvxFi7fs79D+0yW2jOF/F9gpBauy\nbN54K0T8O/G9FdJTiCp9sX5K95rnhNfRiwI7KtvEQB17SZM3kAAACBANA51XB5avHoVmW9\nO3MUuF83IcayfaY6UQxOEJBnTvPwu/n3X0ydZvZlsfJp7NOVILTKmLHtXW6sZ5X257II8U\nY1IbK03NFO1n8pY+RdNwN7oLw53i4GeHoqquY/KU2Er084JaW0QpH6/hitrX4nF3SfPjKU\nB1iQSpFbj0SdPEWjAAAACHJvb3RAbmFzAQI=\n-----END OPENSSH PRIVATE KEY-----"
ENV PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \
    LANG=zh_CN.UTF-8 \
    SHELL=/bin/bash \
    JD_DIR=/jd \
    PS1="\u@\h:\w \$ "
RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories \
    && apk update -f \
    && apk upgrade \
    && apk --no-cache add -f bash \
                             build-base \
                             libffi-dev \
                             tzdata \
                             nodejs \
                             npm \
                             git \
                             wget \
                             curl \
                             nano \
                             perl \
                             openssl \
                             nginx \
                             coreutils \
                             moreutils \
                             make \
                             gcc \
                             g++ \
                             yarn \
                             libc-dev \
                             musl-dev \
                             musl \
                             autoconf \ 
                             libtool \
                             openssh \
    && ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \
    && echo "Asia/Shanghai" > /etc/timezone \
    && pip --no-cache-dir install aiohttp requests wasmtime \
    && mkdir -p /root/.ssh \
    && echo -e $lxkKEY > /root/.ssh/id_rsa_lxk \
    && echo -e $kwjKEY > /root/.ssh/id_rsa_kwj \
    && echo -e $EKEY > /root/.ssh/id_rsa_E \
    && chmod 600 /root/.ssh/id_rsa_lxk /root/.ssh/id_rsa_kwj /root/.ssh/id_rsa_E \
    && echo -e "\tHost kwj\n\tHostname github.com\n\tIdentityFile=/root/.ssh/id_rsa_kwj\n\n\tHost lxk\n\tHostname gitee.com\n\tIdentityFile=/root/.ssh/id_rsa_lxk\n\n\tHost E\n\tHostname gitee.com\n\tIdentityFile=/root/.ssh/id_rsa_E" > /root/.ssh/config \
    && chmod 644 /root/.ssh/config \
    && npm install -g websocketserver pm2 \
    && apk del gcc musl-dev musl autoconf build-base libffi-dev libtool \
    && rm -rf /tmp/* \
    && rm -rf ~/.cache/pip \
    && rm -rf /var/cache/apk/* 
WORKDIR /